{% extends 'base.html' %}

{% block content %}
<div class="container mt-4 small">
    <h4>Detalle del Movimiento: {{ movimiento.referencia }}</h4>

    <div class="mb-3">
        <strong>Tipo Movimiento (E/S):</strong> {{ movimiento.move_s }}<br>
        <strong>Movimiento:</strong> {{ movimiento.clave_movimiento }}<br>
        <strong>Fecha:</strong> {{ movimiento.fecha_movimiento|date:"d/m/Y" }}<br>
        <strong>Almac√©n:</strong> {{ movimiento.almacen }}<br>
        <strong>Usuario:</strong> {{ movimiento.usuario }}
    </div>

    <h5>Productos</h5>
    <table class="table table-sm table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio</th>
                <th>Descuento</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for detalle in detalles %}
                <tr>
                    <td>{{ detalle.producto }}</td>
                    <td>{{ detalle.cantidad }}</td>
                    <td>${{ detalle.precio }}</td>
                    <td>${{ detalle.descuento }}</td>
                    <td>${{ detalle.subtotal }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="5" class="text-center text-muted">No hay productos en este movimiento.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{% url 'inv:movimiento_list' %}" class="btn btn-secondary btn-sm">Regresar</a>
</div>
{% endblock %}
